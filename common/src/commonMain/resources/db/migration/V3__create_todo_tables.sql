CREATE TABLE IF NOT EXISTS TODO_LISTS (ID INT AUTO_INCREMENT PRIMARY KEY, TITLE VARCHAR(100) NOT NULL, USER_ID INT NOT NULL, CONSTRAINT FK_TODO_LISTS_USER_ID_ID FOREIGN KEY(USER_ID) REFERENCES users(id) ON DELETE CASCADE ON UPDATE RESTRICT);
CREATE TABLE IF NOT EXISTS TODO_TASKS (ID INT AUTO_INCREMENT PRIMARY KEY, DESCRIPTION TEXT NOT NULL, ADDED_TIME DATETIME(6) NOT NULL, MODIFIED_TIME DATETIME(6) NOT NULL, IS_TO_DO BOOLEAN NOT NULL, PRIORITY INT NOT NULL, USER_ID INT NOT NULL, CONSTRAINT FK_TODO_TASKS_USER_ID_ID FOREIGN KEY(USER_ID) REFERENCES users(id) ON DELETE CASCADE ON UPDATE RESTRICT);
CREATE TABLE IF NOT EXISTS TODO_LISTS_TO_TASKS (ID INT AUTO_INCREMENT PRIMARY KEY, TODO_LIST_ID INT NOT NULL, TASK_ID INT NOT NULL, CONSTRAINT FK_TODO_LISTS_TO_TASKS_TODO_LIST_ID_ID FOREIGN KEY (TODO_LIST_ID) REFERENCES TODO_LISTS(ID) ON DELETE CASCADE ON UPDATE RESTRICT, CONSTRAINT FK_TODO_LISTS_TO_TASKS_TASK_ID_ID FOREIGN KEY (TASK_ID) REFERENCES TODO_TASKS(ID) ON DELETE CASCADE ON UPDATE RESTRICT);
CREATE TABLE IF NOT EXISTS TASKS_TO_SUBTASKS (ID INT AUTO_INCREMENT PRIMARY KEY, PARENT_ID INT NOT NULL, CHILD_ID INT NOT NULL, CONSTRAINT FK_TASKS_TO_SUBTASKS_PARENT_ID_ID FOREIGN KEY (PARENT_ID) REFERENCES TODO_TASKS(ID) ON DELETE CASCADE ON UPDATE RESTRICT, CONSTRAINT FK_TASKS_TO_SUBTASKS_CHILD_ID_ID FOREIGN KEY (CHILD_ID) REFERENCES TODO_TASKS(ID) ON DELETE CASCADE ON UPDATE RESTRICT);